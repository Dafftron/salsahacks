{"version":3,"file":"AuthPage-C1OI-WTy.js","sources":["../../src/pages/AuthPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Mail, Lock, User, Eye, EyeOff, AlertCircle, CheckCircle, Shield, Crown } from 'lucide-react'\r\nimport { ROLES, ROLE_LABELS, ROLE_COLORS } from '../constants/roles'\r\n\r\nconst AuthPage = () => {\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [message, setMessage] = useState({ type: '', text: '' })\r\n  \r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\n  const { login, loginWithGoogle } = useAuth()\r\n\r\n  const handleInputChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setMessage({ type: '', text: '' })\r\n\r\n    try {\r\n      const result = await login(formData.email, formData.password)\r\n\r\n      if (result.success) {\r\n        setMessage({ \r\n          type: 'success', \r\n          text: '¡Inicio de sesión exitoso!' \r\n        })\r\n        // Limpiar formulario\r\n        setFormData({ email: '', password: '' })\r\n      } else {\r\n        setMessage({ type: 'error', text: result.error })\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: error.message })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleGoogleLogin = async () => {\r\n    setLoading(true)\r\n    setMessage({ type: '', text: '' })\r\n\r\n    try {\r\n      const result = await loginWithGoogle()\r\n      if (result.success) {\r\n        setMessage({ type: 'success', text: '¡Inicio de sesión con Google exitoso!' })\r\n      } else {\r\n        setMessage({ type: 'error', text: result.error })\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: error.message })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-pink-50 to-orange-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            Iniciar Sesión\r\n          </h2>\r\n          <p className=\"text-gray-600\">\r\n            Accede a tu cuenta de SalsaHacks\r\n          </p>\r\n        </div>\r\n\r\n        {/* Message */}\r\n        {message.text && (\r\n          <div className={`p-4 rounded-lg flex items-center space-x-2 ${\r\n            message.type === 'success' \r\n              ? 'bg-green-50 border border-green-200 text-green-700' \r\n              : 'bg-red-50 border border-red-200 text-red-700'\r\n          }`}>\r\n            {message.type === 'success' ? (\r\n              <CheckCircle className=\"h-5 w-5\" />\r\n            ) : (\r\n              <AlertCircle className=\"h-5 w-5\" />\r\n            )}\r\n            <span className=\"text-sm font-medium\">{message.text}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Registration Notice */}\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Crown className=\"h-5 w-5 text-blue-600\" />\r\n            <div>\r\n              <h3 className=\"text-sm font-medium text-blue-800\">Registro por Invitación</h3>\r\n              <p className=\"text-xs text-blue-600 mt-1\">\r\n                El registro de nuevas cuentas está restringido. Solo el Super Administrador puede crear nuevas cuentas con roles específicos.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Correo electrónico\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  required\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200\"\r\n                  placeholder=\"tu@email.com\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Contraseña\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  required\r\n                  value={formData.password}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200\"\r\n                  placeholder=\"••••••••\"\r\n                  minLength={6}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-pink-500 to-orange-500 hover:from-pink-600 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n          >\r\n            {loading ? (\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                <span>Procesando...</span>\r\n              </div>\r\n            ) : (\r\n              'Iniciar Sesión'\r\n            )}\r\n          </button>\r\n\r\n          {/* Google Login */}\r\n          <div className=\"mt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleGoogleLogin}\r\n              disabled={loading}\r\n              className=\"w-full flex justify-center items-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n            >\r\n              <svg className=\"h-5 w-5 mr-2\" viewBox=\"0 0 24 24\">\r\n                <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n                <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n                <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n                <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n              </svg>\r\n              Continuar con Google\r\n            </button>\r\n          </div>\r\n\r\n          {/* Contact Info */}\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              ¿Necesitas una cuenta? Contacta al Super Administrador\r\n            </p>\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Solo se pueden crear cuentas por invitación directa\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthPage "],"names":["AuthPage","showPassword","setShowPassword","useState","loading","setLoading","message","setMessage","formData","setFormData","login","loginWithGoogle","useAuth","handleInputChange","e","handleSubmit","result","error","handleGoogleLogin","jsxs","jsx","CheckCircle","AlertCircle","Crown","Mail","Lock","EyeOff","Eye"],"mappings":"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"}