const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/HomePage-BSobTVsr.js","js/vendor-router-Bt5THCHr.js","js/vendor-react-4yEUTM44.js","js/vendor-icons-DyUK-N1U.js","js/vendor-firebase-DVYjp8kH.js","js/NotasPage-CT_ow_pO.js","js/CategoriesPage-5YZgjQuW.js","js/FigurasPage-DEAvcfJx.js","js/CompactCardActions-4ElLycK8.js","js/ConfirmModal-BH5xG-OP.js","js/Toast-BchDI-us.js","js/sequences-CZPkWwOF.js","js/index-Cef-5B3O.js","js/EscuelaPage-B-aKbT3L.js","js/AdminPage-CnYArBM-.js","js/AuthPage-CeulS7tj.js","js/ProfilePage-DrZSXShH.js","js/SettingsPage-Ct2kUG7f.js","js/InvitePage-B7rR9APX.js","js/videoCombiner-16CEYwu5.js","js/VideoPlayer-D3jT_9FO.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,a=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&n(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&n(e,r,t[r]);return e},l=(e,s)=>t(e,r(s)),c=(e,t,r)=>new Promise((s,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},n=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);a((r=r.apply(e,t)).next())});import{r as d,b as u,a as g}from"../js/vendor-react-4yEUTM44.js";import{b as m,L as h,N as f,B as p,R as E,c as y}from"../js/vendor-router-Bt5THCHr.js";import{i as v,h as x,j as S,k as _,m as A,n as j,G as b,p as N,t as P,v as I,x as w,y as R,q as O,c as U,w as D,o as M,a as T,d as C,u as L,s as k,z as V,g as F,A as z,e as B,B as q,b as W}from"../js/vendor-firebase-DVYjp8kH.js";import{LucideMusic as G,LucideSearch as $,LucideSun as H,LucideMoon as J,Bell as K,Heart as Y,LucideUser as X,LucideShield as Q}from"../js/vendor-icons-DyUK-N1U.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Z={exports:{}},ee={},te=d,re=Symbol.for("react.element"),se=Symbol.for("react.fragment"),ie=Object.prototype.hasOwnProperty,oe=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ne={key:!0,ref:!0,__self:!0,__source:!0};function ae(e,t,r){var s,i={},o=null,n=null;for(s in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(n=t.ref),t)ie.call(t,s)&&!ne.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:re,type:e,key:o,ref:n,props:i,_owner:oe.current}}ee.Fragment=se,ee.jsx=ae,ee.jsxs=ae,Z.exports=ee;var le,ce=Z.exports,de={},ue=u;le=de.createRoot=ue.createRoot,de.hydrateRoot=ue.hydrateRoot;const ge=Object.freeze(Object.defineProperty({__proto__:null,get createRoot(){return le},default:de},Symbol.toStringTag,{value:"Module"})),me={},he=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in me)return;me[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise((t,r)=>{i.addEventListener("load",t),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},fe=d.createContext(),pe=()=>{const e=d.useContext(fe);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Ee=({children:e})=>{const[t,r]=d.useState("salsa");d.useEffect(()=>{const e=localStorage.getItem("theme")||"salsa";r(e),document.documentElement.setAttribute("data-theme",e)},[]);const s={theme:t,changeTheme:e=>{r(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)},isDark:"dark"===t,isLight:"light"===t,isSalsa:"salsa"===t};return ce.jsx(fe.Provider,{value:s,children:e})},ye=v({apiKey:"AIzaSyBxqEJAHyV4jyeE1-GW-dOeECyLXRAsjiM",authDomain:"salsahacks-a9cac.firebaseapp.com",projectId:"salsahacks-a9cac",storageBucket:"salsahacks-a9cac.firebasestorage.app",messagingSenderId:"934621871243",appId:"1:934621871243:web:9107fa3b61d9b9928fa88e"}),ve=x(ye),xe=S(ye),Se=_(ye),_e=Object.freeze(Object.defineProperty({__proto__:null,auth:ve,db:xe,default:ye,storage:Se},Symbol.toStringTag,{value:"Module"})),Ae=(e,t,r)=>c(void 0,null,function*(){try{const s=yield P(ve,e,t);return r&&(yield I(s.user,{displayName:r})),{user:s.user,error:null}}catch(s){return{user:null,error:s.message}}}),je=(e,t)=>c(void 0,null,function*(){try{return{user:(yield j(ve,e,t)).user,error:null}}catch(r){return{user:null,error:r.message}}}),be=()=>c(void 0,null,function*(){try{const e=new b;return{user:(yield N(ve,e)).user,error:null}}catch(e){return{user:null,error:e.message}}}),Ne=()=>c(void 0,null,function*(){try{return yield w(ve),{error:null}}catch(e){return{error:e.message}}}),Pe=e=>c(void 0,null,function*(){try{return yield R(ve,e),{error:null}}catch(t){return{error:t.message}}}),Ie=e=>A(ve,e),we=Object.freeze(Object.defineProperty({__proto__:null,getCurrentUser:()=>ve.currentUser,loginWithEmail:je,loginWithGoogle:be,logout:Ne,onAuthStateChange:Ie,registerWithEmail:Ae,resetPassword:Pe},Symbol.toStringTag,{value:"Module"})),Re="users",Oe="notes",Ue="categories",De="events",Me="figures",Te="school",Ce="videos",Le="escuela-videos",ke="eventos-videos",Ve=(e="figuras")=>{switch(e){case"escuela":return Le;case"eventos":return ke;default:return Ce}},Fe=(e,t)=>c(void 0,null,function*(){try{return yield q(C(xe,Re,e),l(a({uid:e},t),{createdAt:k(),updatedAt:k()})),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),ze=e=>c(void 0,null,function*(){try{const t=C(xe,Re,e),r=yield V(t);if(r.exists()){return{user:a({id:r.id},r.data()),error:null}}return{user:null,error:"Usuario no encontrado"}}catch(t){return{user:null,error:t.message}}}),Be=(e,t)=>c(void 0,null,function*(){try{const r=C(xe,Re,e);return yield L(r,l(a({},t),{updatedAt:k()})),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),qe=e=>c(void 0,null,function*(){try{const t=Je(),r=new Date;r.setDate(r.getDate()+e.expiresInDays);const s={code:t,email:e.email,displayName:e.displayName,username:e.username,role:e.role,createdBy:e.createdBy,createdAt:k(),expiresAt:r,status:"pending",usedAt:null,usedBy:null};return yield q(C(xe,"invitations",t),s),{success:!0,invitationCode:t,invitation:s}}catch(t){return{success:!1,error:t.message}}}),We=e=>c(void 0,null,function*(){try{const t=C(xe,"invitations",e),r=yield V(t);if(!r.exists())return{success:!1,error:"Invitación no encontrada"};const s=r.data();return"used"===s.status?{success:!1,error:"Esta invitación ya ha sido utilizada"}:s.expiresAt&&s.expiresAt.toDate()<new Date?{success:!1,error:"Esta invitación ha expirado"}:{success:!0,invitation:s}}catch(t){return{success:!1,error:t.message}}}),Ge=(e,t)=>c(void 0,null,function*(){try{const r=C(xe,"invitations",e);return yield L(r,{status:"used",usedAt:k(),usedBy:t}),{success:!0}}catch(r){return{success:!1,error:r.message}}}),$e=e=>c(void 0,null,function*(){try{const t=U(xe,"invitations"),r=O(t,D("createdBy","==",e),M("createdAt","desc")),s=yield F(r),i=[];return s.forEach(e=>{i.push(a({id:e.id},e.data()))}),{success:!0,invitations:i}}catch(t){return{success:!1,error:t.message}}}),He=e=>c(void 0,null,function*(){try{return yield B(C(xe,"invitations",e)),{success:!0}}catch(t){return{success:!1,error:t.message}}}),Je=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(36*Math.random()));return t},Ke=(e,t="figuras")=>c(void 0,null,function*(){try{const r=Ve(t),s=C(U(xe,r));return yield q(s,l(a({},e),{id:s.id,createdAt:k(),updatedAt:k()})),{success:!0,id:s.id,error:null}}catch(r){return{success:!1,error:r.message}}}),Ye=(e,t,r="figuras")=>c(void 0,null,function*(){try{const s=Ve(r),i=C(xe,s,e);return yield L(i,l(a({},t),{updatedAt:k()})),{success:!0,error:null}}catch(s){return{success:!1,error:s.message}}}),Xe=(e,t,r="figuras")=>c(void 0,null,function*(){try{const i=Ve(r),o=C(xe,i,e),n=yield V(o);if(!n.exists())throw new Error("Video no encontrado");const a=n.data(),l=a.likedBy||[],c=a.likes||0,d=l.indexOf(t);let u,g;-1===d?(u=[...l,t],g=c+1):(u=l.filter(e=>e!==t),g=c-1),yield L(o,{likes:g,likedBy:u,updatedAt:k()});let m=null;try{m=yield Ze(e,t)}catch(s){}return{success:!0,likes:g,likedBy:u,userLiked:-1===d,isFavorite:(null==m?void 0:m.isFavorite)||!1,error:null}}catch(i){return{success:!1,error:i.message}}}),Qe=(e,t)=>c(void 0,null,function*(){try{const r=C(xe,Ce,e),s=yield V(r);if(!s.exists())return{userLiked:!1,error:"Video no encontrado"};const i=s.data().likedBy||[];return{userLiked:i.includes(t),error:null}}catch(r){return{userLiked:!1,error:r.message}}}),Ze=(e,t)=>c(void 0,null,function*(){try{const r=C(xe,Re,t),s=yield V(r);if(!s.exists())throw new Error("Usuario no encontrado");const i=s.data().favorites||[],o=i.indexOf(e);let n;return n=-1===o?[...i,e]:i.filter(t=>t!==e),yield L(r,{favorites:n,updatedAt:k()}),{success:!0,favorites:n,isFavorite:-1===o,error:null}}catch(r){return{success:!1,error:r.message}}}),et=(e,t)=>c(void 0,null,function*(){try{const r=C(xe,Re,t),s=yield V(r);if(!s.exists())return{isFavorite:!1,error:"Usuario no encontrado"};const i=s.data().favorites||[];return{isFavorite:i.includes(e),error:null}}catch(r){return{isFavorite:!1,error:r.message}}}),tt=(e,t="figuras")=>c(void 0,null,function*(){try{const r=Ve(t),s=C(xe,r,e);return yield B(s),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),rt=(e,t="figuras")=>c(void 0,null,function*(){try{const r=O(U(xe,"escuela"===t?"escuela-videos":"figuras-videos"),D("originalTitle","==",e)),s=yield F(r);return{isDuplicate:!s.empty,error:null}}catch(r){return{isDuplicate:!1,error:r.message}}}),st=()=>c(void 0,null,function*(){try{const e=O(U(xe,Ce),M("createdAt","desc")),t=yield F(e),r=[];return t.forEach(e=>{r.push(a({id:e.id},e.data()))}),r}catch(e){return[]}}),it=(e,t,r="figuras")=>{try{const s=Ve(r),i=O(U(xe,s),D("style","==",e),M("createdAt","desc"));return T(i,e=>{const r=[];e.forEach(e=>{r.push(a({id:e.id},e.data()))}),t(r)},r=>{if("failed-precondition"===r.code||r.message.includes("index")){const r=O(U(xe,s),M("createdAt","desc"));return T(r,r=>{const s=[];r.forEach(e=>{s.push(a({id:e.id},e.data()))});const i=s.filter(t=>t.style===e);t(i)},e=>{})}})}catch(s){return()=>{}}},ot=()=>c(void 0,null,function*(){try{const e=yield st();if(0===e.length)return{success:!0,deletedCount:0,error:null};const t=z(xe);let r=0;return e.forEach(e=>{const s=C(xe,Ce,e.id);t.delete(s),r++}),yield t.commit(),{success:!0,deletedCount:r,error:null}}catch(e){return{success:!1,deletedCount:0,error:e.message}}}),nt=()=>c(void 0,null,function*(){try{const e=yield st();if(0===e.length)return{success:!0,updatedCount:0,error:null};const t=z(xe);let r=0;return e.forEach(e=>{if(!e.thumbnailPath||"placeholder"===e.thumbnailPath){const s=C(xe,Ce,e.id);t.update(s,{thumbnailPath:null,updatedAt:k()}),r++}}),r>0&&(yield t.commit()),{success:!0,updatedCount:r,error:null}}catch(e){return{success:!1,updatedCount:0,error:e.message}}}),at=()=>c(void 0,null,function*(){try{const e=yield st(),t={};e.forEach(e=>{const r=e.style||"sin-estilo";t[r]||(t[r]=[]),t[r].push(e)});const r=e.filter(e=>"salsa"===e.style||e.tags&&e.tags.estilo&&e.tags.estilo.includes("salsa"));r.forEach(e=>{});const s=e.find(e=>e.originalTitle&&e.originalTitle.includes("Fig003")),i=e.filter(e=>!e.resolution||"Unknown"===e.resolution);return i.forEach(e=>{}),{success:!0,totalVideos:e.length,videosByStyle:t,salsaVideos:r.length,fig003Found:!!s,fig003Video:s,videosWithoutResolution:i.length,error:null}}catch(e){return{success:!1,totalVideos:0,videosByStyle:{},salsaVideos:0,fig003Found:!1,fig003Video:null,videosWithoutResolution:0,error:e.message}}}),lt=()=>c(void 0,null,function*(){try{const e=yield st();if(0===e.length)return{success:!0,updatedCount:0,error:null};const t=z(xe);let r=0;return e.forEach(e=>{let s=!1;const i={},o={},n={};if(e.tags&&Object.keys(e.tags).forEach(t=>{if(Array.isArray(e.tags[t])){const r=[...new Set(e.tags[t])];r.length!==e.tags[t].length&&(i[t]=r,s=!0)}}),e.tagsIniciales&&Object.keys(e.tagsIniciales).forEach(t=>{if(Array.isArray(e.tagsIniciales[t])){const r=[...new Set(e.tagsIniciales[t])];r.length!==e.tagsIniciales[t].length&&(o[t]=r,s=!0)}}),e.tagsFinales&&Object.keys(e.tagsFinales).forEach(t=>{if(Array.isArray(e.tagsFinales[t])){const r=[...new Set(e.tagsFinales[t])];r.length!==e.tagsFinales[t].length&&(n[t]=r,s=!0)}}),s){const s=C(xe,Ce,e.id),l={updatedAt:k()};Object.keys(i).length>0&&(l.tags=a(a({},e.tags),i)),Object.keys(o).length>0&&(l.tagsIniciales=a(a({},e.tagsIniciales),o)),Object.keys(n).length>0&&(l.tagsFinales=a(a({},e.tagsFinales),n)),t.update(s,l),r++}}),r>0&&(yield t.commit()),{success:!0,updatedCount:r,error:null}}catch(e){return{success:!1,updatedCount:0,error:e.message}}}),ct=Object.freeze(Object.defineProperty({__proto__:null,checkUserFavorite:et,checkUserLikedVideo:Qe,checkVideoDuplicate:rt,cleanupDuplicateTags:lt,createEvent:e=>c(void 0,null,function*(){try{return{id:(yield W(U(xe,De),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createFigure:e=>c(void 0,null,function*(){try{return{id:(yield W(U(xe,Me),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createInvitation:qe,createNote:e=>c(void 0,null,function*(){try{return{id:(yield W(U(xe,Oe),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createSchoolContent:e=>c(void 0,null,function*(){try{return{id:(yield W(U(xe,Te),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createUserProfile:Fe,createVideoDocument:Ke,deleteAllVideos:ot,deleteInvitation:He,deleteNote:e=>c(void 0,null,function*(){try{return yield B(C(xe,Oe,e)),{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}}),deleteVideoDocument:tt,diagnoseVideos:at,getCategories:()=>c(void 0,null,function*(){try{const e=yield F(U(xe,Ue));return{categories:e.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{categories:[],error:e.message}}}),getEvents:()=>c(void 0,null,function*(){try{const e=O(U(xe,De),M("date","asc")),t=yield F(e);return{events:t.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{events:[],error:e.message}}}),getFigures:()=>c(void 0,null,function*(){try{const e=yield F(U(xe,Me));return{figures:e.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{figures:[],error:e.message}}}),getNotes:e=>c(void 0,null,function*(){try{const t=O(U(xe,Oe),D("userId","==",e),M("createdAt","desc")),r=yield F(t);return{notes:r.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(t){return{notes:[],error:t.message}}}),getSchoolContent:()=>c(void 0,null,function*(){try{const e=O(U(xe,Te),M("createdAt","desc")),t=yield F(e);return{content:t.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{content:[],error:e.message}}}),getUserFavorites:e=>c(void 0,null,function*(){try{const r=C(xe,Re,e),s=yield V(r);if(!s.exists())return{favorites:[],error:"Usuario no encontrado"};const i=s.data().favorites||[];if(0===i.length)return{favorites:[],error:null};const o=[];for(const e of i)try{const t=C(xe,Ce,e),r=yield V(t);r.exists()&&o.push(a({id:r.id},r.data()))}catch(t){}return{favorites:o,error:null}}catch(t){return{favorites:[],error:t.message}}}),getUserInvitations:$e,getUserProfile:ze,getVideoDocument:e=>c(void 0,null,function*(){try{const t=C(xe,Ce,e),r=yield V(t);if(r.exists()){return{video:a({id:r.id},r.data()),error:null}}return{video:null,error:"Video no encontrado"}}catch(t){return{video:null,error:t.message}}}),getVideos:st,getVideosByCategory:e=>c(void 0,null,function*(){try{const t=O(U(xe,Ce),D("category","==",e),M("createdAt","desc")),r=yield F(t),s=[];return r.forEach(e=>{s.push(a({id:e.id},e.data()))}),{videos:s,error:null}}catch(t){return{videos:[],error:t.message}}}),getVideosByUser:e=>c(void 0,null,function*(){try{const t=O(U(xe,Ce),D("uploadedBy","==",e),M("createdAt","desc")),r=yield F(t),s=[];return r.forEach(e=>{s.push(a({id:e.id},e.data()))}),{videos:s,error:null}}catch(t){return{videos:[],error:t.message}}}),markInvitationAsUsed:Ge,subscribeToEvents:e=>{const t=O(U(xe,De),M("date","asc"));return T(t,t=>{const r=t.docs.map(e=>a({id:e.id},e.data()));e(r)})},subscribeToNotes:(e,t)=>{const r=O(U(xe,Oe),D("userId","==",e),M("createdAt","desc"));return T(r,e=>{const r=e.docs.map(e=>a({id:e.id},e.data()));t(r)})},subscribeToVideos:e=>{try{const t=O(U(xe,Ce),M("createdAt","desc"));return T(t,t=>{const r=[];t.forEach(e=>{r.push(a({id:e.id},e.data()))}),e(r)},e=>{})}catch(t){return()=>{}}},subscribeToVideosByStyle:it,toggleUserFavorite:Ze,toggleVideoLike:Xe,updateNote:(e,t)=>c(void 0,null,function*(){try{const r=C(xe,Oe,e);return yield L(r,l(a({},t),{updatedAt:k()})),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),updateUserProfile:Be,updateVideoDocument:Ye,updateVideoThumbnailPaths:nt,validateInvitation:We},Symbol.toStringTag,{value:"Module"})),dt={SUPER_ADMIN:"super_admin",MAESE:"maese",USER:"user",POLLITO:"pollito"},ut={[dt.SUPER_ADMIN]:"Super Administrador",[dt.MAESE]:"Maese",[dt.USER]:"Soldado",[dt.POLLITO]:"Pollito"},gt={[dt.SUPER_ADMIN]:"bg-purple-600 text-white",[dt.MAESE]:"bg-red-500 text-white",[dt.USER]:"bg-green-500 text-white",[dt.POLLITO]:"bg-yellow-400 text-gray-800"},mt={MANAGE_USERS:[dt.SUPER_ADMIN,dt.MAESE],VIEW_USERS:[dt.SUPER_ADMIN,dt.MAESE],CREATE_CONTENT:[dt.SUPER_ADMIN,dt.MAESE],EDIT_CONTENT:[dt.SUPER_ADMIN,dt.MAESE],DELETE_CONTENT:[dt.SUPER_ADMIN],PUBLISH_CONTENT:[dt.SUPER_ADMIN,dt.MAESE],CREATE_EVENTS:[dt.SUPER_ADMIN,dt.MAESE],EDIT_EVENTS:[dt.SUPER_ADMIN,dt.MAESE],DELETE_EVENTS:[dt.SUPER_ADMIN],MANAGE_EVENTS:[dt.SUPER_ADMIN,dt.MAESE],CREATE_FIGURES:[dt.SUPER_ADMIN,dt.MAESE],EDIT_FIGURES:[dt.SUPER_ADMIN,dt.MAESE],DELETE_FIGURES:[dt.SUPER_ADMIN],CREATE_LESSONS:[dt.SUPER_ADMIN,dt.MAESE],EDIT_LESSONS:[dt.SUPER_ADMIN,dt.MAESE],DELETE_LESSONS:[dt.SUPER_ADMIN],ACCESS_PREMIUM_CONTENT:[dt.SUPER_ADMIN,dt.MAESE,dt.USER],ACCESS_BASIC_CONTENT:[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],ACCESS_PUBLIC_CONTENT:[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],MANAGE_SYSTEM:[dt.SUPER_ADMIN],VIEW_ANALYTICS:[dt.SUPER_ADMIN,dt.MAESE],MANAGE_CATEGORIES:[dt.SUPER_ADMIN,dt.MAESE],UPLOAD_VIDEOS:[dt.SUPER_ADMIN,dt.MAESE],DOWNLOAD_VIDEOS:[dt.SUPER_ADMIN,dt.MAESE],UPLOAD_IMAGES:[dt.SUPER_ADMIN,dt.MAESE,dt.USER],COMMENT_CONTENT:[dt.SUPER_ADMIN,dt.MAESE,dt.USER],RATE_CONTENT:[dt.SUPER_ADMIN,dt.MAESE,dt.USER],SEND_NOTIFICATIONS:[dt.SUPER_ADMIN,dt.MAESE],RECEIVE_NOTIFICATIONS:[dt.SUPER_ADMIN,dt.MAESE,dt.USER]},ht=e=>e?Object.keys(mt).filter(t=>mt[t].includes(e)):[],ft={"/":[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],"/figuras":[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],"/escuela":[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],"/eventos":[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],"/categorias":[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO],"/notas":[dt.SUPER_ADMIN,dt.MAESE,dt.USER],"/admin":[dt.SUPER_ADMIN,dt.MAESE],"/auth":[dt.SUPER_ADMIN,dt.MAESE,dt.USER,dt.POLLITO]},pt={PRODUCTION_URL:"https://salsahacks-a9cac.web.app",isProduction:!0,getBaseUrl:()=>pt.PRODUCTION_URL,getInvitationUrl:e=>`${pt.getBaseUrl()}/invite/${e}`},Et=d.createContext(),yt=()=>{const e=d.useContext(Et);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},vt=({children:e})=>{const[t,r]=d.useState(null),[s,i]=d.useState(null),[o,n]=d.useState(!0),u=e=>c(void 0,null,function*(){if("david_exile_92@hotmail.com"===e.email)try{const t={displayName:"David",email:e.email,role:dt.SUPER_ADMIN,username:"david",createdAt:new Date,permissions:ht(dt.SUPER_ADMIN),photoURL:e.photoURL||null,isSuperAdmin:!0};if((yield Fe(e.uid,t)).success)return t}catch(t){}return null});d.useEffect(()=>{const e=Ie(e=>c(void 0,null,function*(){if(e){r(e);try{const{user:t}=yield ze(e.uid);if(t){const e=yield(e=>c(void 0,null,function*(){if("david_exile_92@hotmail.com"===(null==e?void 0:e.email)&&(null==e?void 0:e.role)!==dt.SUPER_ADMIN)try{return yield Be(e.uid,{role:dt.SUPER_ADMIN,permissions:ht(dt.SUPER_ADMIN),updatedAt:new Date}),l(a({},e),{role:dt.SUPER_ADMIN,permissions:ht(dt.SUPER_ADMIN)})}catch(t){}else null==e||e.email;return e}))(t);i(e)}else if("david_exile_92@hotmail.com"===e.email){const t=yield u(e);t&&i(t)}}catch(t){if("david_exile_92@hotmail.com"===e.email){const t=yield u(e);t&&i(t)}}}else r(null),i(null);n(!1)}));return()=>e()},[]);const g=e=>c(void 0,null,function*(){try{return yield We(e)}catch(t){return{success:!1,error:t.message}}}),m={user:t,userProfile:s,loading:o,login:(e,t)=>c(void 0,null,function*(){try{const{user:r,error:s}=yield je(e,t);if(s)throw new Error(s);return{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),loginWithGoogle:()=>c(void 0,null,function*(){try{const{user:e,error:t}=yield be();if(t)throw new Error(t);return{success:!0,error:null}}catch(e){return{success:!1,error:e.message}}}),createInvitation:(e,t,r,i,o=7)=>c(void 0,null,function*(){try{if(!s||s.role!==dt.SUPER_ADMIN)throw new Error("Solo el Super Administrador puede crear invitaciones");const n=yield qe({email:e,displayName:t,role:r,username:i,expiresInDays:o,createdBy:s.uid,createdAt:new Date});if(n.success){const e=pt.getInvitationUrl(n.invitationCode);return{success:!0,invitationCode:n.invitationCode,invitationUrl:e,error:null}}return{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}}),validateInvitation:g,createUserByInvitation:(e,t)=>c(void 0,null,function*(){try{const r=yield g(e);if(!r.success)throw new Error(r.error);const s=r.invitation,{user:o,error:n}=yield Ae(s.email,t,s.displayName);if(n)throw new Error(n);if(o){const t={displayName:s.displayName,email:s.email,role:s.role,username:s.username,createdAt:new Date,permissions:ht(s.role),photoURL:o.photoURL||null,invitedBy:s.createdBy,invitationCode:e,invitationDate:new Date},r=yield Fe(o.uid,t);if(!r.success)throw new Error(r.error);(yield Ge(e,o.uid)).success;const{user:n}=yield ze(o.uid);n&&i(n)}return{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),logout:()=>c(void 0,null,function*(){try{return yield Ne(),{success:!0,error:null}}catch(e){return{success:!1,error:e.message}}}),resetPassword:e=>c(void 0,null,function*(){try{const{error:t}=yield Pe(e);if(t)throw new Error(t);return{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}}),updateUserProfile:e=>c(void 0,null,function*(){var r;try{if(!(null==t?void 0:t.uid))throw new Error("Usuario no autenticado");const s=l(a({},e),{username:e.username||(null==(r=e.displayName)?void 0:r.toLowerCase().replace(/\s+/g,"")),updatedAt:new Date});return yield Be(t.uid,s),i(e=>a(a({},e),s)),{success:!0,error:null}}catch(s){return{success:!1,error:s.message}}}),getUserUsername:()=>{var e;return(null==s?void 0:s.username)||(null==(e=null==s?void 0:s.displayName)?void 0:e.toLowerCase().replace(/\s+/g,""))||"usuario"},getUserPhoto:()=>(null==s?void 0:s.photoURL)||(null==t?void 0:t.photoURL)||null,isAuthenticated:!!t,isSuperAdmin:(null==s?void 0:s.role)===dt.SUPER_ADMIN,isMaese:(null==s?void 0:s.role)===dt.MAESE,isUser:(null==s?void 0:s.role)===dt.USER,isPollito:(null==s?void 0:s.role)===dt.POLLITO,hasPermission:e=>((e,t)=>!(!e||!mt[t])&&mt[t].includes(e))(null==s?void 0:s.role,e),hasPageAccess:e=>((e,t)=>!(!e||!ft[t])&&ft[t].includes(e))(null==s?void 0:s.role,e),getRolePermissions:()=>ht(null==s?void 0:s.role),forceUpdateDavidRole:()=>c(void 0,null,function*(){if(!(null==t?void 0:t.uid))return{success:!1,error:"No hay usuario autenticado"};if("david_exile_92@hotmail.com"!==t.email)return{success:!1,error:"Solo David puede usar esta función"};try{const{user:e}=yield ze(t.uid);if(e)yield Be(t.uid,{role:dt.SUPER_ADMIN,permissions:ht(dt.SUPER_ADMIN),updatedAt:new Date,isSuperAdmin:!0});else{yield u(t)}const{user:r}=yield ze(t.uid);return r&&i(r),{success:!0,error:null}}catch(e){return{success:!1,error:e.message}}})};return ce.jsx(Et.Provider,{value:m,children:e})},xt=d.createContext(),St=()=>{const e=d.useContext(xt);if(!e)throw new Error("useSequenceBuilderContext debe usarse dentro de un SequenceBuilderProvider");return e},_t=({children:e})=>{const[t,r]=d.useState([]),[s,i]=d.useState(""),[o,n]=d.useState(""),[a,l]=d.useState(!1),[c,u]=d.useState(!1),[g,m]=d.useState(null),h=d.useCallback(e=>{if(!e)return[];const t=[];return Array.isArray(e)?e:(Object.values(e).forEach(e=>{Array.isArray(e)&&t.push(...e)}),t)},[]),f=d.useCallback((e,t)=>{if(!e||!t)return!1;const r=h(e.tagsFinales),s=h(t.tagsIniciales);return r.some(e=>s.some(t=>{const r=e===t;return r}))},[h]),p=d.useCallback(e=>{r(t=>[...t,e])},[]),E=d.useCallback(e=>{r(t=>t.filter((t,r)=>r!==e))},[]),y=d.useCallback((e,t)=>{r(r=>{const s=[...r],[i]=s.splice(e,1);return s.splice(t,0,i),s})},[]),v=d.useCallback((e,s=5)=>{if(0===e.length)return;const i=[...t];let o=[...e];if(o=o.filter(e=>!i.some(t=>t.id===e.id)),0===i.length){const e=Math.floor(Math.random()*o.length),t=o[e];i.push(t),o.splice(e,1)}const n=s-i.length;for(let t=0;t<n&&o.length>0;t++){const e=i[i.length-1],t=o.filter(t=>f(e,t));if(0===t.length)break;{const e=t[Math.floor(Math.random()*t.length)];i.push(e),o=o.filter(t=>t.id!==e.id)}}r(i)},[t,f]),x=d.useCallback(()=>{r([]),i(""),n(""),m(null)},[]),S=d.useCallback(()=>{l(e=>!e)},[]),_=d.useCallback(()=>{l(!0)},[]),A=d.useCallback(()=>{l(!1),x()},[x]),j=d.useCallback(e=>{r(e.videos||[]),i(e.name||""),n(e.description||""),m(e.id||null),l(!0)},[]),b=d.useCallback(()=>{u(e=>!e)},[]),N=d.useCallback(e=>{if(0===t.length)return!0;const r=t[t.length-1];return f(r,e)},[t,f]),P=d.useCallback(e=>{if(0===t.length)return e;const r=t[t.length-1];return e.filter(e=>f(r,e))},[t,f]),I=d.useCallback(e=>c?e:P(e),[c,P]),w=d.useCallback(e=>!1,[t]),R={sequence:t,sequenceName:s,sequenceDescription:o,isBuilderOpen:a,showAllVideos:c,editingSequenceId:g,setSequenceName:i,setSequenceDescription:n,addVideoToSequence:p,removeVideoFromSequence:E,reorderSequence:y,generateRandomSequence:v,clearSequence:x,openBuilder:_,closeBuilder:A,toggleBuilder:S,loadSequence:j,toggleShowAllVideos:b,checkCompatibility:f,isVideoCompatible:N,isVideoInSequence:w,getCompatibleVideos:P,getFilteredVideos:I};return ce.jsx(xt.Provider,{value:R,children:e})},At=d.createContext(),jt=()=>{const e=d.useContext(At);if(!e)throw new Error("useCardSize debe ser usado dentro de un CardSizeProvider");return e},bt=({children:e})=>{const[t,r]=d.useState("large"),[s,i]=d.useState("large"),o={small:{grid:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",gridFullWidth:"md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-small",titleSize:"text-xs",descriptionLines:1,showStats:!1,showTags:!0,compact:!0,maxTags:2},medium:{grid:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",gridFullWidth:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-medium",titleSize:"text-sm",descriptionLines:1,showStats:!1,showTags:!0,compact:!0,maxTags:3},large:{grid:"md:grid-cols-2 lg:grid-cols-3",gridFullWidth:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-large",titleSize:"text-xl",descriptionLines:3,showStats:!0,showTags:!0,compact:!1,maxTags:5},"extra-large":{grid:"md:grid-cols-1 lg:grid-cols-2",gridFullWidth:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-extra-large",titleSize:"text-2xl",descriptionLines:4,showStats:!0,showTags:!0,compact:!1,maxTags:8}},n={small:{grid:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",gridFullWidth:"md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-small",titleSize:"text-xs",descriptionLines:0,showStats:!0,showTags:!0,showIcons:!0,compact:!0},medium:{grid:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",gridFullWidth:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-medium",titleSize:"text-sm",descriptionLines:0,showStats:!0,showTags:!0,showIcons:!0,compact:!0},large:{grid:"md:grid-cols-2 lg:grid-cols-3",gridFullWidth:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-large",titleSize:"text-lg",descriptionLines:2,showStats:!0,showTags:!0,showIcons:!1,compact:!1},"extra-large":{grid:"md:grid-cols-1 lg:grid-cols-2",gridFullWidth:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-extra-large",titleSize:"text-xl",descriptionLines:3,showStats:!0,showTags:!0,showIcons:!1,compact:!1}},c={videoCardSize:t,sequenceCardSize:s,setVideoCardSize:r,setSequenceCardSize:i,videoSizeConfig:o,sequenceSizeConfig:n,getVideoConfig:(e=!1)=>{const r=o[t];return l(a({},r),{grid:e?r.gridFullWidth:r.grid})},getSequenceConfig:(e=!1)=>{const t=n[s];return l(a({},t),{grid:e?t.gridFullWidth:t.grid})},availableSizes:["small","medium","large","extra-large"],sizeLabels:{small:"Pequeño",medium:"Mediano",large:"Grande","extra-large":"Extra Grande"}};return ce.jsx(At.Provider,{value:c,children:e})},Nt=()=>{const e=m(),{theme:t,changeTheme:r}=pe(),{user:s,userProfile:i,isAuthenticated:o,logout:n,hasPermission:a,getUserUsername:l,getUserPhoto:d}=yt(),u=[{path:"/",label:"Inicio"},...s?[{path:"/figuras",label:"Figuras"},{path:"/escuela",label:"Escuela"},{path:"/eventos",label:"Eventos"},{path:"/categorias",label:"Categorías"},{path:"/notas",label:"Notas"}]:[]];a("MANAGE_USERS")&&u.push({path:"/admin",label:"Admin"});return ce.jsx("nav",{className:"bg-white shadow-lg border-b-2 border-salsa-primary",children:ce.jsx("div",{className:"container mx-auto px-4",children:ce.jsxs("div",{className:"flex justify-between items-center h-16",children:[ce.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[ce.jsx(G,{className:"h-8 w-8 text-salsa-primary"}),ce.jsx("span",{className:"text-2xl font-bold text-salsa-primary",children:"SalsaHacks"})]}),ce.jsx("div",{className:"hidden md:flex space-x-8",children:u.map(t=>ce.jsx(h,{to:t.path,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors "+(e.pathname===t.path?"text-salsa-primary bg-salsa-light":"text-gray-700 hover:text-salsa-primary hover:bg-salsa-light"),children:t.label},t.path))}),ce.jsxs("div",{className:"flex items-center space-x-4",children:[ce.jsx("button",{className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors",children:ce.jsx($,{className:"h-5 w-5"})}),ce.jsx("button",{onClick:()=>{const e=["light","dark","salsa"],s=(e.indexOf(t)+1)%e.length;r(e[s])},className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors",children:"dark"===t?ce.jsx(H,{className:"h-5 w-5"}):ce.jsx(J,{className:"h-5 w-5"})}),ce.jsxs("button",{className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors relative",children:[ce.jsx(K,{className:"h-5 w-5"}),ce.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:"3"})]}),ce.jsx("button",{className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors",children:ce.jsx(Y,{className:"h-5 w-5"})}),o?ce.jsxs("div",{className:"relative group",children:[ce.jsxs("button",{className:"flex items-center space-x-3 p-2 text-gray-600 hover:text-salsa-primary transition-colors rounded-lg hover:bg-gray-100",children:[ce.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-orange-500 rounded-full flex items-center justify-center",children:d()?ce.jsx("img",{src:d(),alt:"Foto de perfil",className:"w-8 h-8 rounded-full object-cover"}):ce.jsx(X,{className:"h-4 w-4 text-white"})}),ce.jsxs("div",{className:"flex flex-col items-start",children:[ce.jsx("span",{className:"text-sm font-medium text-gray-700",children:l()}),(null==i?void 0:i.role)&&ce.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${gt[i.role]||"bg-gray-500 text-white"}`,children:[ce.jsx(Q,{className:"h-3 w-3 mr-1"}),ut[i.role]||i.role]})]})]}),ce.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:ce.jsxs("div",{className:"py-2",children:[ce.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:ce.jsxs("div",{className:"flex items-center space-x-3",children:[ce.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-orange-500 rounded-full flex items-center justify-center",children:d()?ce.jsx("img",{src:d(),alt:"Foto de perfil",className:"w-10 h-10 rounded-full object-cover"}):ce.jsx(X,{className:"h-5 w-5 text-white"})}),ce.jsxs("div",{className:"flex-1 min-w-0",children:[ce.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null==i?void 0:i.displayName)||(null==s?void 0:s.displayName)||"Usuario"}),ce.jsx("p",{className:"text-xs text-gray-500 truncate",children:l()}),(null==i?void 0:i.role)&&ce.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-1 ${gt[i.role]||"bg-gray-500 text-white"}`,children:[ce.jsx(Q,{className:"h-3 w-3 mr-1"}),ut[i.role]||i.role]})]})]})}),ce.jsx(h,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"Mi Perfil"}),ce.jsx(h,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"Configuración"}),ce.jsx("button",{onClick:()=>c(void 0,null,function*(){try{yield n()}catch(e){}}),className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Cerrar Sesión"})]})})]}):ce.jsx(h,{to:"/auth",className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-orange-500 text-white rounded-lg hover:from-pink-600 hover:to-orange-600 transition-all duration-200 font-medium",children:"Iniciar Sesión"})]})]})})})},Pt=({size:e="default",className:t=""})=>ce.jsx("div",{className:`flex items-center justify-center min-h-[400px] ${t}`,children:ce.jsx("div",{className:`animate-spin rounded-full border-b-2 border-pink-500 ${{small:"h-6 w-6",default:"h-12 w-12",large:"h-16 w-16"}[e]}`})}),It=({children:e,requiredRole:t=null})=>{const{user:r,userProfile:s,loading:i}=yt(),o=m();return i?ce.jsx(Pt,{}):r?t&&(null==s?void 0:s.role)!==t?ce.jsx(f,{to:"/",replace:!0}):e:ce.jsx(f,{to:"/auth",state:{from:o},replace:!0})},wt=d.lazy(()=>he(()=>import("../js/HomePage-BSobTVsr.js"),__vite__mapDeps([0,1,2,3,4]))),Rt=d.lazy(()=>he(()=>import("../js/NotasPage-CT_ow_pO.js"),__vite__mapDeps([5,2,4,3,1]))),Ot=d.lazy(()=>he(()=>import("../js/CategoriesPage-5YZgjQuW.js"),__vite__mapDeps([6,2,3,1,4]))),Ut=d.lazy(()=>he(()=>import("../js/FigurasPage-DEAvcfJx.js"),__vite__mapDeps([7,2,8,3,9,1,4,10,11,12]))),Dt=d.lazy(()=>he(()=>import("../js/EscuelaPage-B-aKbT3L.js"),__vite__mapDeps([13,2,8,3,9,1,4,10,12]))),Mt=d.lazy(()=>he(()=>import("../js/AdminPage-CnYArBM-.js"),__vite__mapDeps([14,2,3,1,4]))),Tt=d.lazy(()=>he(()=>import("../js/AuthPage-CeulS7tj.js"),__vite__mapDeps([15,2,3,1,4]))),Ct=d.lazy(()=>he(()=>import("../js/ProfilePage-DrZSXShH.js"),__vite__mapDeps([16,2,3,1,4]))),Lt=d.lazy(()=>he(()=>import("../js/SettingsPage-Ct2kUG7f.js"),__vite__mapDeps([17,2,3,1,4]))),kt=d.lazy(()=>he(()=>import("../js/InvitePage-B7rR9APX.js"),__vite__mapDeps([18,2,1,3,4]))),Vt=()=>ce.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:ce.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})});function Ft(){const e=m(),t="/figuras"===e.pathname,r="/escuela"===e.pathname;return ce.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-salsa-light to-white",children:[ce.jsx(Nt,{}),ce.jsx("main",{className:t||r?"w-full":"container mx-auto px-4 py-8",children:ce.jsx(d.Suspense,{fallback:ce.jsx(Vt,{}),children:ce.jsxs(E,{children:[ce.jsx(y,{path:"/",element:ce.jsx(wt,{})}),ce.jsx(y,{path:"/auth",element:ce.jsx(Tt,{})}),ce.jsx(y,{path:"/invite/:invitationCode",element:ce.jsx(kt,{})}),ce.jsx(y,{path:"/profile",element:ce.jsx(It,{children:ce.jsx(Ct,{})})}),ce.jsx(y,{path:"/settings",element:ce.jsx(It,{children:ce.jsx(Lt,{})})}),ce.jsx(y,{path:"/notas",element:ce.jsx(It,{children:ce.jsx(Rt,{})})}),ce.jsx(y,{path:"/categorias",element:ce.jsx(It,{children:ce.jsx(Ot,{})})}),ce.jsx(y,{path:"/figuras",element:ce.jsx(It,{children:ce.jsx(Ut,{})})}),ce.jsx(y,{path:"/escuela",element:ce.jsx(It,{children:ce.jsx(Dt,{})})})," ",ce.jsx(y,{path:"/admin",element:ce.jsx(It,{requiredRole:dt.SUPER_ADMIN,children:ce.jsx(Mt,{})})})]})})})]})}function zt(){return ce.jsx(Ee,{children:ce.jsx(vt,{children:ce.jsx(_t,{children:ce.jsx(bt,{children:ce.jsx(p,{children:ce.jsx(Ft,{})})})})})})}const Bt=()=>{const e=new Map;return{getAuth:()=>c(void 0,null,function*(){if(!e.has("auth")){const{getAuth:t}=yield he(()=>c(void 0,null,function*(){const{getAuth:e}=yield import("../js/vendor-firebase-DVYjp8kH.js").then(e=>e.H);return{getAuth:e}}),[]);e.set("auth",t)}return e.get("auth")}),getFirestore:()=>c(void 0,null,function*(){if(!e.has("firestore")){const{getFirestore:t}=yield he(()=>c(void 0,null,function*(){const{getFirestore:e}=yield import("../js/vendor-firebase-DVYjp8kH.js").then(e=>e.I);return{getFirestore:e}}),[]);e.set("firestore",t)}return e.get("firestore")}),getStorage:()=>c(void 0,null,function*(){if(!e.has("storage")){const{getStorage:t}=yield he(()=>c(void 0,null,function*(){const{getStorage:e}=yield import("../js/vendor-firebase-DVYjp8kH.js").then(e=>e.J);return{getStorage:e}}),[]);e.set("storage",t)}return e.get("storage")})}},qt=()=>{const e=new Map;return{getIcon:t=>c(void 0,null,function*(){if(!e.has(t))try{const{[t]:r}=yield he(()=>c(void 0,null,function*(){const{[t]:e}=yield import("../js/vendor-icons-DyUK-N1U.js");return{[t]:e}}),__vite__mapDeps([3,2]));e.set(t,r)}catch(r){return null}return e.get(t)})}},Wt=()=>{const e=new Map;return{getVideoService:()=>c(void 0,null,function*(){if(!e.has("video")){const t=yield he(()=>import("../js/videoCombiner-16CEYwu5.js"),__vite__mapDeps([19,2,1,4,3]));e.set("video",t.default)}return e.get("video")}),getFirebaseService:t=>c(void 0,null,function*(){if(!e.has(t)){const r=yield((e,t,r)=>{const s=e[t];return s?"function"==typeof s?s():Promise.resolve(s):new Promise((e,s)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})})(Object.assign({"../services/firebase/auth.js":()=>he(()=>Promise.resolve().then(()=>we),void 0),"../services/firebase/config.js":()=>he(()=>Promise.resolve().then(()=>_e),void 0),"../services/firebase/firestore.js":()=>he(()=>Promise.resolve().then(()=>ct),void 0),"../services/firebase/index.js":()=>he(()=>import("../js/index-Cef-5B3O.js").then(e=>e.i),__vite__mapDeps([12,4])),"../services/firebase/sequences.js":()=>he(()=>import("../js/sequences-CZPkWwOF.js"),__vite__mapDeps([11,4,2,1,3])),"../services/firebase/storage.js":()=>he(()=>import("../js/index-Cef-5B3O.js").then(e=>e.s),__vite__mapDeps([12,4]))}),`../services/firebase/${t}.js`,4);e.set(t,r)}return e.get(t)})}},Gt=()=>{if("undefined"!=typeof window&&"IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const r=t.target;r.src=r.dataset.src,r.classList.remove("lazy"),e.unobserve(r)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}},$t={preloadCritical:!0,useCache:!0,monitorPerformance:!0,optimizeImages:!0,autoCleanup:!0};((e=$t)=>{e.preloadCritical&&[()=>he(()=>import("../js/Toast-BchDI-us.js"),__vite__mapDeps([10,2,3,1,4])),()=>he(()=>import("../js/ConfirmModal-BH5xG-OP.js"),__vite__mapDeps([9,3,2,1,4])),()=>he(()=>import("../js/VideoPlayer-D3jT_9FO.js"),__vite__mapDeps([20,2,4,3,1]))].forEach(e=>{e().catch(()=>{})}),e.monitorPerformance&&"undefined"!=typeof window&&window.performance&&new PerformanceObserver(e=>{for(const t of e.getEntries())t.entryType}).observe({entryTypes:["navigation","paint"]}),e.optimizeImages&&"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",Gt):Gt()),Bt(),qt(),Wt()})(),de.createRoot(document.getElementById("root")).render(ce.jsx(g.StrictMode,{children:ce.jsx(zt,{})}));export{je as A,be as B,Ae as C,Ne as D,Pe as E,Fe as F,ze as G,Be as H,qe as I,We as J,Ge as K,$e as L,He as M,_e as N,dt as R,he as _,jt as a,St as b,ge as c,Ye as d,Qe as e,et as f,at as g,st as h,nt as i,ce as j,lt as k,ot as l,tt as m,ut as n,gt as o,pe as p,xe as q,rt as r,it as s,Xe as t,yt as u,Ke as v,Se as w,ye as x,ve as y,Ie as z};
