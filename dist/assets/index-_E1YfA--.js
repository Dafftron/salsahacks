const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/HomePage-DnZAfp1w.js","js/vendor-router-UcgXoTZX.js","js/vendor-react-SlK7pBj5.js","js/vendor-icons-BWQzNHDY.js","js/vendor-firebase-DVYjp8kH.js","js/NotasPage-BfeH6y6S.js","js/CategoriesPage-D8RTGJcF.js","js/FigurasPage-TsQcR0rh.js","js/CompactCardActions-Bres0XMd.js","js/ConfirmModal-c2BWF6H6.js","js/Toast-DEMKkBqT.js","js/sequences-7EdsOGdH.js","js/index-DxznKFAT.js","js/EscuelaPage-CpLZfj3W.js","js/AdminPage-Ck3Rbp-I.js","js/AuthPage-BY9TOB6j.js","js/ProfilePage-BTp9knzq.js","js/SettingsPage-ysGuV8gu.js","js/InvitePage-1Dopv0J1.js","js/videoCombiner-DtVyKRCm.js","js/VideoPlayer-BonkY548.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,a=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&n(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&n(e,r,t[r]);return e},l=(e,s)=>t(e,r(s)),c=(e,t,r)=>new Promise((s,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},n=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);a((r=r.apply(e,t)).next())});import{r as d,b as u,a as m}from"../js/vendor-react-SlK7pBj5.js";import{b as g,L as h,N as f,B as p,R as y,c as v}from"../js/vendor-router-UcgXoTZX.js";import{i as E,h as x,j as S,k as _,m as A,n as j,G as b,p as N,t as P,v as I,x as w,y as R,q as O,c as U,w as D,o as M,a as T,d as C,u as L,s as k,z as V,g as F,A as z,e as B,B as q,b as W}from"../js/vendor-firebase-DVYjp8kH.js";import{LucideMusic as G,LucideMenu as $,LucideSearch as H,LucideSun as J,LucideMoon as K,Bell as Y,Heart as X,LucideUser as Q,LucideShield as Z}from"../js/vendor-icons-BWQzNHDY.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ee={exports:{}},te={},re=d,se=Symbol.for("react.element"),ie=Symbol.for("react.fragment"),oe=Object.prototype.hasOwnProperty,ne=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function le(e,t,r){var s,i={},o=null,n=null;for(s in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(n=t.ref),t)oe.call(t,s)&&!ae.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:se,type:e,key:o,ref:n,props:i,_owner:ne.current}}te.Fragment=ie,te.jsx=le,te.jsxs=le,ee.exports=te;var ce,de=ee.exports,ue={},me=u;ce=ue.createRoot=me.createRoot,ue.hydrateRoot=me.hydrateRoot;const ge=Object.freeze(Object.defineProperty({__proto__:null,get createRoot(){return ce},default:ue},Symbol.toStringTag,{value:"Module"})),he={},fe=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in he)return;he[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise((t,r)=>{i.addEventListener("load",t),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},pe=d.createContext(),ye=()=>{const e=d.useContext(pe);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},ve=({children:e})=>{const[t,r]=d.useState("salsa");d.useEffect(()=>{const e=localStorage.getItem("theme")||"salsa";r(e),document.documentElement.setAttribute("data-theme",e)},[]);const s={theme:t,changeTheme:e=>{r(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)},isDark:"dark"===t,isLight:"light"===t,isSalsa:"salsa"===t};return de.jsx(pe.Provider,{value:s,children:e})},Ee=E({apiKey:"AIzaSyBxqEJAHyV4jyeE1-GW-dOeECyLXRAsjiM",authDomain:"salsahacks-a9cac.firebaseapp.com",projectId:"salsahacks-a9cac",storageBucket:"salsahacks-a9cac.firebasestorage.app",messagingSenderId:"934621871243",appId:"1:934621871243:web:9107fa3b61d9b9928fa88e"}),xe=x(Ee),Se=S(Ee),_e=_(Ee),Ae=Object.freeze(Object.defineProperty({__proto__:null,auth:xe,db:Se,default:Ee,storage:_e},Symbol.toStringTag,{value:"Module"})),je=(e,t,r)=>c(void 0,null,function*(){try{const s=yield P(xe,e,t);return r&&(yield I(s.user,{displayName:r})),{user:s.user,error:null}}catch(s){return{user:null,error:s.message}}}),be=(e,t)=>c(void 0,null,function*(){try{return{user:(yield j(xe,e,t)).user,error:null}}catch(r){return{user:null,error:r.message}}}),Ne=()=>c(void 0,null,function*(){try{const e=new b;return{user:(yield N(xe,e)).user,error:null}}catch(e){return{user:null,error:e.message}}}),Pe=()=>c(void 0,null,function*(){try{return yield w(xe),{error:null}}catch(e){return{error:e.message}}}),Ie=e=>c(void 0,null,function*(){try{return yield R(xe,e),{error:null}}catch(t){return{error:t.message}}}),we=e=>A(xe,e),Re=Object.freeze(Object.defineProperty({__proto__:null,getCurrentUser:()=>xe.currentUser,loginWithEmail:be,loginWithGoogle:Ne,logout:Pe,onAuthStateChange:we,registerWithEmail:je,resetPassword:Ie},Symbol.toStringTag,{value:"Module"})),Oe="users",Ue="notes",De="categories",Me="events",Te="figures",Ce="school",Le="videos",ke="escuela-videos",Ve="eventos-videos",Fe=(e="figuras")=>{switch(e){case"escuela":return ke;case"eventos":return Ve;default:return Le}},ze=(e,t)=>c(void 0,null,function*(){try{return yield q(C(Se,Oe,e),l(a({uid:e},t),{createdAt:k(),updatedAt:k()})),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),Be=e=>c(void 0,null,function*(){try{const t=C(Se,Oe,e),r=yield V(t);if(r.exists()){return{user:a({id:r.id},r.data()),error:null}}return{user:null,error:"Usuario no encontrado"}}catch(t){return{user:null,error:t.message}}}),qe=(e,t)=>c(void 0,null,function*(){try{const r=C(Se,Oe,e);return yield L(r,l(a({},t),{updatedAt:k()})),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),We=e=>c(void 0,null,function*(){try{const t=Ke(),r=new Date;r.setDate(r.getDate()+e.expiresInDays);const s={code:t,email:e.email,displayName:e.displayName,username:e.username,role:e.role,createdBy:e.createdBy,createdAt:k(),expiresAt:r,status:"pending",usedAt:null,usedBy:null};return yield q(C(Se,"invitations",t),s),{success:!0,invitationCode:t,invitation:s}}catch(t){return{success:!1,error:t.message}}}),Ge=e=>c(void 0,null,function*(){try{const t=C(Se,"invitations",e),r=yield V(t);if(!r.exists())return{success:!1,error:"Invitación no encontrada"};const s=r.data();return"used"===s.status?{success:!1,error:"Esta invitación ya ha sido utilizada"}:s.expiresAt&&s.expiresAt.toDate()<new Date?{success:!1,error:"Esta invitación ha expirado"}:{success:!0,invitation:s}}catch(t){return{success:!1,error:t.message}}}),$e=(e,t)=>c(void 0,null,function*(){try{const r=C(Se,"invitations",e);return yield L(r,{status:"used",usedAt:k(),usedBy:t}),{success:!0}}catch(r){return{success:!1,error:r.message}}}),He=e=>c(void 0,null,function*(){try{const t=U(Se,"invitations"),r=O(t,D("createdBy","==",e),M("createdAt","desc")),s=yield F(r),i=[];return s.forEach(e=>{i.push(a({id:e.id},e.data()))}),{success:!0,invitations:i}}catch(t){return{success:!1,error:t.message}}}),Je=e=>c(void 0,null,function*(){try{return yield B(C(Se,"invitations",e)),{success:!0}}catch(t){return{success:!1,error:t.message}}}),Ke=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(36*Math.random()));return t},Ye=(e,t="figuras")=>c(void 0,null,function*(){try{const r=Fe(t),s=C(U(Se,r));return yield q(s,l(a({},e),{id:s.id,createdAt:k(),updatedAt:k()})),{success:!0,id:s.id,error:null}}catch(r){return{success:!1,error:r.message}}}),Xe=(e,t,r="figuras")=>c(void 0,null,function*(){try{const s=Fe(r),i=C(Se,s,e);return yield L(i,l(a({},t),{updatedAt:k()})),{success:!0,error:null}}catch(s){return{success:!1,error:s.message}}}),Qe=(e,t,r="figuras")=>c(void 0,null,function*(){try{const i=Fe(r),o=C(Se,i,e),n=yield V(o);if(!n.exists())throw new Error("Video no encontrado");const a=n.data(),l=a.likedBy||[],c=a.likes||0,d=l.indexOf(t);let u,m;-1===d?(u=[...l,t],m=c+1):(u=l.filter(e=>e!==t),m=c-1),yield L(o,{likes:m,likedBy:u,updatedAt:k()});let g=null;try{g=yield et(e,t)}catch(s){}return{success:!0,likes:m,likedBy:u,userLiked:-1===d,isFavorite:(null==g?void 0:g.isFavorite)||!1,error:null}}catch(i){return{success:!1,error:i.message}}}),Ze=(e,t)=>c(void 0,null,function*(){try{const r=C(Se,Le,e),s=yield V(r);if(!s.exists())return{userLiked:!1,error:"Video no encontrado"};const i=s.data().likedBy||[];return{userLiked:i.includes(t),error:null}}catch(r){return{userLiked:!1,error:r.message}}}),et=(e,t)=>c(void 0,null,function*(){try{const r=C(Se,Oe,t),s=yield V(r);if(!s.exists())throw new Error("Usuario no encontrado");const i=s.data().favorites||[],o=i.indexOf(e);let n;return n=-1===o?[...i,e]:i.filter(t=>t!==e),yield L(r,{favorites:n,updatedAt:k()}),{success:!0,favorites:n,isFavorite:-1===o,error:null}}catch(r){return{success:!1,error:r.message}}}),tt=(e,t)=>c(void 0,null,function*(){try{const r=C(Se,Oe,t),s=yield V(r);if(!s.exists())return{isFavorite:!1,error:"Usuario no encontrado"};const i=s.data().favorites||[];return{isFavorite:i.includes(e),error:null}}catch(r){return{isFavorite:!1,error:r.message}}}),rt=(e,t="figuras")=>c(void 0,null,function*(){try{const r=Fe(t),s=C(Se,r,e);return yield B(s),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),st=(e,t="figuras")=>c(void 0,null,function*(){try{const r=O(U(Se,"escuela"===t?"escuela-videos":"figuras-videos"),D("originalTitle","==",e)),s=yield F(r);return{isDuplicate:!s.empty,error:null}}catch(r){return{isDuplicate:!1,error:r.message}}}),it=()=>c(void 0,null,function*(){try{const e=O(U(Se,Le),M("createdAt","desc")),t=yield F(e),r=[];return t.forEach(e=>{r.push(a({id:e.id},e.data()))}),r}catch(e){return[]}}),ot=(e,t,r="figuras")=>{try{const s=Fe(r),i=O(U(Se,s),D("style","==",e),M("createdAt","desc"));return T(i,e=>{const r=[];e.forEach(e=>{r.push(a({id:e.id},e.data()))}),t(r)},r=>{if("failed-precondition"===r.code||r.message.includes("index")){const r=O(U(Se,s),M("createdAt","desc"));return T(r,r=>{const s=[];r.forEach(e=>{s.push(a({id:e.id},e.data()))});const i=s.filter(t=>t.style===e);t(i)},e=>{})}})}catch(s){return()=>{}}},nt=()=>c(void 0,null,function*(){try{const e=yield it();if(0===e.length)return{success:!0,deletedCount:0,error:null};const t=z(Se);let r=0;return e.forEach(e=>{const s=C(Se,Le,e.id);t.delete(s),r++}),yield t.commit(),{success:!0,deletedCount:r,error:null}}catch(e){return{success:!1,deletedCount:0,error:e.message}}}),at=()=>c(void 0,null,function*(){try{const e=yield it();if(0===e.length)return{success:!0,updatedCount:0,error:null};const t=z(Se);let r=0;return e.forEach(e=>{if(!e.thumbnailPath||"placeholder"===e.thumbnailPath){const s=C(Se,Le,e.id);t.update(s,{thumbnailPath:null,updatedAt:k()}),r++}}),r>0&&(yield t.commit()),{success:!0,updatedCount:r,error:null}}catch(e){return{success:!1,updatedCount:0,error:e.message}}}),lt=()=>c(void 0,null,function*(){try{const e=yield it(),t={};e.forEach(e=>{const r=e.style||"sin-estilo";t[r]||(t[r]=[]),t[r].push(e)});const r=e.filter(e=>"salsa"===e.style||e.tags&&e.tags.estilo&&e.tags.estilo.includes("salsa"));r.forEach(e=>{});const s=e.find(e=>e.originalTitle&&e.originalTitle.includes("Fig003")),i=e.filter(e=>!e.resolution||"Unknown"===e.resolution);return i.forEach(e=>{}),{success:!0,totalVideos:e.length,videosByStyle:t,salsaVideos:r.length,fig003Found:!!s,fig003Video:s,videosWithoutResolution:i.length,error:null}}catch(e){return{success:!1,totalVideos:0,videosByStyle:{},salsaVideos:0,fig003Found:!1,fig003Video:null,videosWithoutResolution:0,error:e.message}}}),ct=()=>c(void 0,null,function*(){try{const e=yield it();if(0===e.length)return{success:!0,updatedCount:0,error:null};const t=z(Se);let r=0;return e.forEach(e=>{let s=!1;const i={},o={},n={};if(e.tags&&Object.keys(e.tags).forEach(t=>{if(Array.isArray(e.tags[t])){const r=[...new Set(e.tags[t])];r.length!==e.tags[t].length&&(i[t]=r,s=!0)}}),e.tagsIniciales&&Object.keys(e.tagsIniciales).forEach(t=>{if(Array.isArray(e.tagsIniciales[t])){const r=[...new Set(e.tagsIniciales[t])];r.length!==e.tagsIniciales[t].length&&(o[t]=r,s=!0)}}),e.tagsFinales&&Object.keys(e.tagsFinales).forEach(t=>{if(Array.isArray(e.tagsFinales[t])){const r=[...new Set(e.tagsFinales[t])];r.length!==e.tagsFinales[t].length&&(n[t]=r,s=!0)}}),s){const s=C(Se,Le,e.id),l={updatedAt:k()};Object.keys(i).length>0&&(l.tags=a(a({},e.tags),i)),Object.keys(o).length>0&&(l.tagsIniciales=a(a({},e.tagsIniciales),o)),Object.keys(n).length>0&&(l.tagsFinales=a(a({},e.tagsFinales),n)),t.update(s,l),r++}}),r>0&&(yield t.commit()),{success:!0,updatedCount:r,error:null}}catch(e){return{success:!1,updatedCount:0,error:e.message}}}),dt=Object.freeze(Object.defineProperty({__proto__:null,checkUserFavorite:tt,checkUserLikedVideo:Ze,checkVideoDuplicate:st,cleanupDuplicateTags:ct,createEvent:e=>c(void 0,null,function*(){try{return{id:(yield W(U(Se,Me),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createFigure:e=>c(void 0,null,function*(){try{return{id:(yield W(U(Se,Te),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createInvitation:We,createNote:e=>c(void 0,null,function*(){try{return{id:(yield W(U(Se,Ue),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createSchoolContent:e=>c(void 0,null,function*(){try{return{id:(yield W(U(Se,Ce),l(a({},e),{createdAt:k(),updatedAt:k()}))).id,error:null}}catch(t){return{id:null,error:t.message}}}),createUserProfile:ze,createVideoDocument:Ye,deleteAllVideos:nt,deleteInvitation:Je,deleteNote:e=>c(void 0,null,function*(){try{return yield B(C(Se,Ue,e)),{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}}),deleteVideoDocument:rt,diagnoseVideos:lt,getCategories:()=>c(void 0,null,function*(){try{const e=yield F(U(Se,De));return{categories:e.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{categories:[],error:e.message}}}),getEvents:()=>c(void 0,null,function*(){try{const e=O(U(Se,Me),M("date","asc")),t=yield F(e);return{events:t.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{events:[],error:e.message}}}),getFigures:()=>c(void 0,null,function*(){try{const e=yield F(U(Se,Te));return{figures:e.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{figures:[],error:e.message}}}),getNotes:e=>c(void 0,null,function*(){try{const t=O(U(Se,Ue),D("userId","==",e),M("createdAt","desc")),r=yield F(t);return{notes:r.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(t){return{notes:[],error:t.message}}}),getSchoolContent:()=>c(void 0,null,function*(){try{const e=O(U(Se,Ce),M("createdAt","desc")),t=yield F(e);return{content:t.docs.map(e=>a({id:e.id},e.data())),error:null}}catch(e){return{content:[],error:e.message}}}),getUserFavorites:e=>c(void 0,null,function*(){try{const r=C(Se,Oe,e),s=yield V(r);if(!s.exists())return{favorites:[],error:"Usuario no encontrado"};const i=s.data().favorites||[];if(0===i.length)return{favorites:[],error:null};const o=[];for(const e of i)try{const t=C(Se,Le,e),r=yield V(t);r.exists()&&o.push(a({id:r.id},r.data()))}catch(t){}return{favorites:o,error:null}}catch(t){return{favorites:[],error:t.message}}}),getUserInvitations:He,getUserProfile:Be,getVideoDocument:e=>c(void 0,null,function*(){try{const t=C(Se,Le,e),r=yield V(t);if(r.exists()){return{video:a({id:r.id},r.data()),error:null}}return{video:null,error:"Video no encontrado"}}catch(t){return{video:null,error:t.message}}}),getVideos:it,getVideosByCategory:e=>c(void 0,null,function*(){try{const t=O(U(Se,Le),D("category","==",e),M("createdAt","desc")),r=yield F(t),s=[];return r.forEach(e=>{s.push(a({id:e.id},e.data()))}),{videos:s,error:null}}catch(t){return{videos:[],error:t.message}}}),getVideosByUser:e=>c(void 0,null,function*(){try{const t=O(U(Se,Le),D("uploadedBy","==",e),M("createdAt","desc")),r=yield F(t),s=[];return r.forEach(e=>{s.push(a({id:e.id},e.data()))}),{videos:s,error:null}}catch(t){return{videos:[],error:t.message}}}),markInvitationAsUsed:$e,subscribeToEvents:e=>{const t=O(U(Se,Me),M("date","asc"));return T(t,t=>{const r=t.docs.map(e=>a({id:e.id},e.data()));e(r)})},subscribeToNotes:(e,t)=>{const r=O(U(Se,Ue),D("userId","==",e),M("createdAt","desc"));return T(r,e=>{const r=e.docs.map(e=>a({id:e.id},e.data()));t(r)})},subscribeToVideos:e=>{try{const t=O(U(Se,Le),M("createdAt","desc"));return T(t,t=>{const r=[];t.forEach(e=>{r.push(a({id:e.id},e.data()))}),e(r)},e=>{})}catch(t){return()=>{}}},subscribeToVideosByStyle:ot,toggleUserFavorite:et,toggleVideoLike:Qe,updateNote:(e,t)=>c(void 0,null,function*(){try{const r=C(Se,Ue,e);return yield L(r,l(a({},t),{updatedAt:k()})),{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),updateUserProfile:qe,updateVideoDocument:Xe,updateVideoThumbnailPaths:at,validateInvitation:Ge},Symbol.toStringTag,{value:"Module"})),ut={SUPER_ADMIN:"super_admin",MAESE:"maese",USER:"user",POLLITO:"pollito"},mt={[ut.SUPER_ADMIN]:"Super Administrador",[ut.MAESE]:"Maese",[ut.USER]:"Soldado",[ut.POLLITO]:"Pollito"},gt={[ut.SUPER_ADMIN]:"bg-purple-600 text-white",[ut.MAESE]:"bg-red-500 text-white",[ut.USER]:"bg-green-500 text-white",[ut.POLLITO]:"bg-yellow-400 text-gray-800"},ht={MANAGE_USERS:[ut.SUPER_ADMIN,ut.MAESE],VIEW_USERS:[ut.SUPER_ADMIN,ut.MAESE],CREATE_CONTENT:[ut.SUPER_ADMIN,ut.MAESE],EDIT_CONTENT:[ut.SUPER_ADMIN,ut.MAESE],DELETE_CONTENT:[ut.SUPER_ADMIN],PUBLISH_CONTENT:[ut.SUPER_ADMIN,ut.MAESE],CREATE_EVENTS:[ut.SUPER_ADMIN,ut.MAESE],EDIT_EVENTS:[ut.SUPER_ADMIN,ut.MAESE],DELETE_EVENTS:[ut.SUPER_ADMIN],MANAGE_EVENTS:[ut.SUPER_ADMIN,ut.MAESE],CREATE_FIGURES:[ut.SUPER_ADMIN,ut.MAESE],EDIT_FIGURES:[ut.SUPER_ADMIN,ut.MAESE],DELETE_FIGURES:[ut.SUPER_ADMIN],CREATE_LESSONS:[ut.SUPER_ADMIN,ut.MAESE],EDIT_LESSONS:[ut.SUPER_ADMIN,ut.MAESE],DELETE_LESSONS:[ut.SUPER_ADMIN],ACCESS_PREMIUM_CONTENT:[ut.SUPER_ADMIN,ut.MAESE,ut.USER],ACCESS_BASIC_CONTENT:[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],ACCESS_PUBLIC_CONTENT:[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],MANAGE_SYSTEM:[ut.SUPER_ADMIN],VIEW_ANALYTICS:[ut.SUPER_ADMIN,ut.MAESE],MANAGE_CATEGORIES:[ut.SUPER_ADMIN,ut.MAESE],UPLOAD_VIDEOS:[ut.SUPER_ADMIN,ut.MAESE],DOWNLOAD_VIDEOS:[ut.SUPER_ADMIN,ut.MAESE],UPLOAD_IMAGES:[ut.SUPER_ADMIN,ut.MAESE,ut.USER],COMMENT_CONTENT:[ut.SUPER_ADMIN,ut.MAESE,ut.USER],RATE_CONTENT:[ut.SUPER_ADMIN,ut.MAESE,ut.USER],SEND_NOTIFICATIONS:[ut.SUPER_ADMIN,ut.MAESE],RECEIVE_NOTIFICATIONS:[ut.SUPER_ADMIN,ut.MAESE,ut.USER]},ft=e=>e?Object.keys(ht).filter(t=>ht[t].includes(e)):[],pt={"/":[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],"/figuras":[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],"/escuela":[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],"/eventos":[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],"/categorias":[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO],"/notas":[ut.SUPER_ADMIN],"/admin":[ut.SUPER_ADMIN,ut.MAESE],"/auth":[ut.SUPER_ADMIN,ut.MAESE,ut.USER,ut.POLLITO]},yt={PRODUCTION_URL:"https://salsahacks-a9cac.web.app",isProduction:!0,getBaseUrl:()=>yt.PRODUCTION_URL,getInvitationUrl:e=>`${yt.getBaseUrl()}/invite/${e}`},vt=d.createContext(),Et=()=>{const e=d.useContext(vt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xt=({children:e})=>{const[t,r]=d.useState(null),[s,i]=d.useState(null),[o,n]=d.useState(!0),u=e=>c(void 0,null,function*(){if("david_exile_92@hotmail.com"===e.email)try{const t={displayName:"David",email:e.email,role:ut.SUPER_ADMIN,username:"david",createdAt:new Date,permissions:ft(ut.SUPER_ADMIN),photoURL:e.photoURL||null,isSuperAdmin:!0};if((yield ze(e.uid,t)).success)return t}catch(t){}return null});d.useEffect(()=>{const e=we(e=>c(void 0,null,function*(){if(e){r(e);try{const{user:t}=yield Be(e.uid);if(t){const e=yield(e=>c(void 0,null,function*(){if("david_exile_92@hotmail.com"===(null==e?void 0:e.email)&&(null==e?void 0:e.role)!==ut.SUPER_ADMIN)try{return yield qe(e.uid,{role:ut.SUPER_ADMIN,permissions:ft(ut.SUPER_ADMIN),updatedAt:new Date}),l(a({},e),{role:ut.SUPER_ADMIN,permissions:ft(ut.SUPER_ADMIN)})}catch(t){}else null==e||e.email;return e}))(t);i(e)}else if("david_exile_92@hotmail.com"===e.email){const t=yield u(e);t&&i(t)}}catch(t){if("david_exile_92@hotmail.com"===e.email){const t=yield u(e);t&&i(t)}}}else r(null),i(null);n(!1)}));return()=>e()},[]);const m=e=>c(void 0,null,function*(){try{return yield Ge(e)}catch(t){return{success:!1,error:t.message}}}),g={user:t,userProfile:s,loading:o,login:(e,t)=>c(void 0,null,function*(){try{const{user:r,error:s}=yield be(e,t);if(s)throw new Error(s);return{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),loginWithGoogle:()=>c(void 0,null,function*(){try{const{user:e,error:t}=yield Ne();if(t)throw new Error(t);return{success:!0,error:null}}catch(e){return{success:!1,error:e.message}}}),createInvitation:(e,t,r,i,o=7)=>c(void 0,null,function*(){try{if(!s||s.role!==ut.SUPER_ADMIN)throw new Error("Solo el Super Administrador puede crear invitaciones");const n=yield We({email:e,displayName:t,role:r,username:i,expiresInDays:o,createdBy:s.uid,createdAt:new Date});if(n.success){const e=yt.getInvitationUrl(n.invitationCode);return{success:!0,invitationCode:n.invitationCode,invitationUrl:e,error:null}}return{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}}),validateInvitation:m,createUserByInvitation:(e,t)=>c(void 0,null,function*(){try{const r=yield m(e);if(!r.success)throw new Error(r.error);const s=r.invitation,{user:o,error:n}=yield je(s.email,t,s.displayName);if(n)throw new Error(n);if(o){const t={displayName:s.displayName,email:s.email,role:s.role,username:s.username,createdAt:new Date,permissions:ft(s.role),photoURL:o.photoURL||null,invitedBy:s.createdBy,invitationCode:e,invitationDate:new Date},r=yield ze(o.uid,t);if(!r.success)throw new Error(r.error);(yield $e(e,o.uid)).success;const{user:n}=yield Be(o.uid);n&&i(n)}return{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}}),logout:()=>c(void 0,null,function*(){try{return yield Pe(),{success:!0,error:null}}catch(e){return{success:!1,error:e.message}}}),resetPassword:e=>c(void 0,null,function*(){try{const{error:t}=yield Ie(e);if(t)throw new Error(t);return{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}}),updateUserProfile:e=>c(void 0,null,function*(){var r;try{if(!(null==t?void 0:t.uid))throw new Error("Usuario no autenticado");const s=l(a({},e),{username:e.username||(null==(r=e.displayName)?void 0:r.toLowerCase().replace(/\s+/g,"")),updatedAt:new Date});return yield qe(t.uid,s),i(e=>a(a({},e),s)),{success:!0,error:null}}catch(s){return{success:!1,error:s.message}}}),getUserUsername:()=>{var e;return(null==s?void 0:s.username)||(null==(e=null==s?void 0:s.displayName)?void 0:e.toLowerCase().replace(/\s+/g,""))||"usuario"},getUserPhoto:()=>(null==s?void 0:s.photoURL)||(null==t?void 0:t.photoURL)||null,isAuthenticated:!!t,isSuperAdmin:(null==s?void 0:s.role)===ut.SUPER_ADMIN,isMaese:(null==s?void 0:s.role)===ut.MAESE,isUser:(null==s?void 0:s.role)===ut.USER,isPollito:(null==s?void 0:s.role)===ut.POLLITO,hasPermission:e=>((e,t)=>!(!e||!ht[t])&&ht[t].includes(e))(null==s?void 0:s.role,e),hasPageAccess:e=>((e,t)=>!(!e||!pt[t])&&pt[t].includes(e))(null==s?void 0:s.role,e),getRolePermissions:()=>ft(null==s?void 0:s.role),forceUpdateDavidRole:()=>c(void 0,null,function*(){if(!(null==t?void 0:t.uid))return{success:!1,error:"No hay usuario autenticado"};if("david_exile_92@hotmail.com"!==t.email)return{success:!1,error:"Solo David puede usar esta función"};try{const{user:e}=yield Be(t.uid);if(e)yield qe(t.uid,{role:ut.SUPER_ADMIN,permissions:ft(ut.SUPER_ADMIN),updatedAt:new Date,isSuperAdmin:!0});else{yield u(t)}const{user:r}=yield Be(t.uid);return r&&i(r),{success:!0,error:null}}catch(e){return{success:!1,error:e.message}}})};return de.jsx(vt.Provider,{value:g,children:e})},St=d.createContext(),_t=()=>{const e=d.useContext(St);if(!e)throw new Error("useSequenceBuilderContext debe usarse dentro de un SequenceBuilderProvider");return e},At=({children:e})=>{const[t,r]=d.useState([]),[s,i]=d.useState(""),[o,n]=d.useState(""),[a,l]=d.useState(!1),[c,u]=d.useState(!1),[m,g]=d.useState(null),h=d.useCallback(e=>{if(!e)return[];const t=[];return Array.isArray(e)?e:(Object.values(e).forEach(e=>{Array.isArray(e)&&t.push(...e)}),t)},[]),f=d.useCallback((e,t)=>{if(!e||!t)return!1;const r=h(e.tagsFinales),s=h(t.tagsIniciales);return r.some(e=>s.some(t=>{const r=e===t;return r}))},[h]),p=d.useCallback(e=>{r(t=>[...t,e])},[]),y=d.useCallback(e=>{r(t=>t.filter((t,r)=>r!==e))},[]),v=d.useCallback((e,t)=>{r(r=>{const s=[...r],[i]=s.splice(e,1);return s.splice(t,0,i),s})},[]),E=d.useCallback((e,s=5)=>{if(0===e.length)return;const i=[...t];let o=[...e];if(o=o.filter(e=>!i.some(t=>t.id===e.id)),0===i.length){const e=Math.floor(Math.random()*o.length),t=o[e];i.push(t),o.splice(e,1)}const n=s-i.length;for(let t=0;t<n&&o.length>0;t++){const e=i[i.length-1],t=o.filter(t=>f(e,t));if(0===t.length)break;{const e=t[Math.floor(Math.random()*t.length)];i.push(e),o=o.filter(t=>t.id!==e.id)}}r(i)},[t,f]),x=d.useCallback(()=>{r([]),i(""),n(""),g(null)},[]),S=d.useCallback(()=>{l(e=>!e)},[]),_=d.useCallback(()=>{l(!0)},[]),A=d.useCallback(()=>{l(!1),x()},[x]),j=d.useCallback(e=>{r(e.videos||[]),i(e.name||""),n(e.description||""),g(e.id||null),l(!0)},[]),b=d.useCallback(()=>{u(e=>!e)},[]),N=d.useCallback(e=>{if(0===t.length)return!0;const r=t[t.length-1];return f(r,e)},[t,f]),P=d.useCallback(e=>{if(0===t.length)return e;const r=t[t.length-1];return e.filter(e=>f(r,e))},[t,f]),I=d.useCallback(e=>c?e:P(e),[c,P]),w=d.useCallback(e=>!1,[t]),R={sequence:t,sequenceName:s,sequenceDescription:o,isBuilderOpen:a,showAllVideos:c,editingSequenceId:m,setSequenceName:i,setSequenceDescription:n,addVideoToSequence:p,removeVideoFromSequence:y,reorderSequence:v,generateRandomSequence:E,clearSequence:x,openBuilder:_,closeBuilder:A,toggleBuilder:S,loadSequence:j,toggleShowAllVideos:b,checkCompatibility:f,isVideoCompatible:N,isVideoInSequence:w,getCompatibleVideos:P,getFilteredVideos:I};return de.jsx(St.Provider,{value:R,children:e})},jt=d.createContext(),bt=()=>{const e=d.useContext(jt);if(!e)throw new Error("useCardSize debe ser usado dentro de un CardSizeProvider");return e},Nt=({children:e})=>{const[t,r]=d.useState("large"),[s,i]=d.useState("large"),o={small:{grid:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",gridFullWidth:"md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-small",titleSize:"text-xs",descriptionLines:1,showStats:!1,showTags:!0,compact:!0,maxTags:2},medium:{grid:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",gridFullWidth:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-medium",titleSize:"text-sm",descriptionLines:1,showStats:!1,showTags:!0,compact:!0,maxTags:3},large:{grid:"md:grid-cols-2 lg:grid-cols-3",gridFullWidth:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-large",titleSize:"text-xl",descriptionLines:3,showStats:!0,showTags:!0,compact:!1,maxTags:5},"extra-large":{grid:"md:grid-cols-1 lg:grid-cols-2",gridFullWidth:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-extra-large",titleSize:"text-2xl",descriptionLines:4,showStats:!0,showTags:!0,compact:!1,maxTags:8}},n={small:{grid:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",gridFullWidth:"md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-small",titleSize:"text-xs",descriptionLines:0,showStats:!0,showTags:!0,showIcons:!0,compact:!0},medium:{grid:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",gridFullWidth:"md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-medium",titleSize:"text-sm",descriptionLines:0,showStats:!0,showTags:!0,showIcons:!0,compact:!0},large:{grid:"md:grid-cols-2 lg:grid-cols-3",gridFullWidth:"md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-large",titleSize:"text-lg",descriptionLines:2,showStats:!0,showTags:!0,showIcons:!1,compact:!1},"extra-large":{grid:"md:grid-cols-1 lg:grid-cols-2",gridFullWidth:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",aspect:"aspect-video",imageObject:"object-cover",thumbnailSize:"thumbnail-extra-large",titleSize:"text-xl",descriptionLines:3,showStats:!0,showTags:!0,showIcons:!1,compact:!1}},c={videoCardSize:t,sequenceCardSize:s,setVideoCardSize:r,setSequenceCardSize:i,videoSizeConfig:o,sequenceSizeConfig:n,getVideoConfig:(e=!1)=>{const r=o[t];return l(a({},r),{grid:e?r.gridFullWidth:r.grid})},getSequenceConfig:(e=!1)=>{const t=n[s];return l(a({},t),{grid:e?t.gridFullWidth:t.grid})},availableSizes:["small","medium","large","extra-large"],sizeLabels:{small:"Pequeño",medium:"Mediano",large:"Grande","extra-large":"Extra Grande"}};return de.jsx(jt.Provider,{value:c,children:e})},Pt=()=>{const e=g(),{theme:t,changeTheme:r}=ye(),{user:s,userProfile:i,isAuthenticated:o,logout:n,hasPermission:a,getUserUsername:l,getUserPhoto:u}=Et(),[m,f]=d.useState(!1),p=[{path:"/",label:"Inicio"},...s?[{path:"/figuras",label:"Figuras"},{path:"/escuela",label:"Escuela"},{path:"/eventos",label:"Eventos"},{path:"/categorias",label:"Categorías"},...(null==i?void 0:i.role)===ut.SUPER_ADMIN?[{path:"/notas",label:"Notas"}]:[]]:[]];a("MANAGE_USERS")&&p.push({path:"/admin",label:"Admin"});return de.jsxs("nav",{className:"bg-white shadow-lg border-b-2 border-salsa-primary",children:[de.jsx("div",{className:"container mx-auto px-4",children:de.jsxs("div",{className:"flex justify-between items-center h-16",children:[de.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[de.jsx(G,{className:"h-8 w-8 text-salsa-primary"}),de.jsx("span",{className:"text-2xl font-bold text-salsa-primary",children:"SalsaHacks"})]}),de.jsx("div",{className:"hidden md:flex space-x-8",children:p.map(t=>de.jsx(h,{to:t.path,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors "+(e.pathname===t.path?"text-salsa-primary bg-salsa-light":"text-gray-700 hover:text-salsa-primary hover:bg-salsa-light"),children:t.label},t.path))}),de.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-salsa-primary transition-colors",onClick:()=>f(e=>!e),"aria-label":m?"Cerrar navegación":"Abrir navegación",children:de.jsx($,{className:"h-6 w-6"})}),de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("button",{className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors",children:de.jsx(H,{className:"h-5 w-5"})}),de.jsx("button",{onClick:()=>{const e=["light","dark","salsa"],s=(e.indexOf(t)+1)%e.length;r(e[s])},className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors",children:"dark"===t?de.jsx(J,{className:"h-5 w-5"}):de.jsx(K,{className:"h-5 w-5"})}),de.jsxs("button",{className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors relative",children:[de.jsx(Y,{className:"h-5 w-5"}),de.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:"3"})]}),de.jsx("button",{className:"p-2 text-gray-600 hover:text-salsa-primary transition-colors",children:de.jsx(X,{className:"h-5 w-5"})}),o?de.jsxs("div",{className:"relative group",children:[de.jsxs("button",{className:"flex items-center space-x-3 p-2 text-gray-600 hover:text-salsa-primary transition-colors rounded-lg hover:bg-gray-100",children:[de.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-orange-500 rounded-full flex items-center justify-center",children:u()?de.jsx("img",{src:u(),alt:"Foto de perfil",className:"w-8 h-8 rounded-full object-cover"}):de.jsx(Q,{className:"h-4 w-4 text-white"})}),de.jsxs("div",{className:"flex flex-col items-start",children:[de.jsx("span",{className:"text-sm font-medium text-gray-700",children:l()}),(null==i?void 0:i.role)&&de.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${gt[i.role]||"bg-gray-500 text-white"}`,children:[de.jsx(Z,{className:"h-3 w-3 mr-1"}),mt[i.role]||i.role]})]})]}),de.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:de.jsxs("div",{className:"py-2",children:[de.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-orange-500 rounded-full flex items-center justify-center",children:u()?de.jsx("img",{src:u(),alt:"Foto de perfil",className:"w-10 h-10 rounded-full object-cover"}):de.jsx(Q,{className:"h-5 w-5 text-white"})}),de.jsxs("div",{className:"flex-1 min-w-0",children:[de.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null==i?void 0:i.displayName)||(null==s?void 0:s.displayName)||"Usuario"}),de.jsx("p",{className:"text-xs text-gray-500 truncate",children:l()}),(null==i?void 0:i.role)&&de.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-1 ${gt[i.role]||"bg-gray-500 text-white"}`,children:[de.jsx(Z,{className:"h-3 w-3 mr-1"}),mt[i.role]||i.role]})]})]})}),de.jsx(h,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"Mi Perfil"}),de.jsx(h,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"Configuración"}),de.jsx("button",{onClick:()=>c(void 0,null,function*(){try{yield n()}catch(e){}}),className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Cerrar Sesión"})]})})]}):de.jsx(h,{to:"/auth",className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-orange-500 text-white rounded-lg hover:from-pink-600 hover:to-orange-600 transition-all duration-200 font-medium",children:"Iniciar Sesión"})]})]})}),m&&de.jsx("div",{className:"md:hidden border-t border-gray-100",children:de.jsx("div",{className:"container mx-auto px-4 py-3",children:de.jsx("div",{className:"flex space-x-4 overflow-x-auto",children:p.map(t=>de.jsx(h,{to:t.path,onClick:()=>f(!1),className:"whitespace-nowrap px-3 py-2 rounded-md text-sm font-medium transition-colors "+(e.pathname===t.path?"text-salsa-primary bg-salsa-light":"text-gray-700 hover:text-salsa-primary hover:bg-salsa-light"),children:t.label},t.path))})})})]})},It=({size:e="default",className:t=""})=>de.jsx("div",{className:`flex items-center justify-center min-h-[400px] ${t}`,children:de.jsx("div",{className:`animate-spin rounded-full border-b-2 border-pink-500 ${{small:"h-6 w-6",default:"h-12 w-12",large:"h-16 w-16"}[e]}`})}),wt=({children:e,requiredRole:t=null})=>{const{user:r,userProfile:s,loading:i}=Et(),o=g();return i?de.jsx(It,{}):r?t&&(null==s?void 0:s.role)!==t?de.jsx(f,{to:"/",replace:!0}):e:de.jsx(f,{to:"/auth",state:{from:o},replace:!0})},Rt=d.lazy(()=>fe(()=>import("../js/HomePage-DnZAfp1w.js"),__vite__mapDeps([0,1,2,3,4]))),Ot=d.lazy(()=>fe(()=>import("../js/NotasPage-BfeH6y6S.js"),__vite__mapDeps([5,2,4,3,1]))),Ut=d.lazy(()=>fe(()=>import("../js/CategoriesPage-D8RTGJcF.js"),__vite__mapDeps([6,2,3,1,4]))),Dt=d.lazy(()=>fe(()=>import("../js/FigurasPage-TsQcR0rh.js"),__vite__mapDeps([7,2,8,3,9,1,4,10,11,12]))),Mt=d.lazy(()=>fe(()=>import("../js/EscuelaPage-CpLZfj3W.js"),__vite__mapDeps([13,2,8,3,9,1,4,10,12]))),Tt=d.lazy(()=>fe(()=>import("../js/AdminPage-Ck3Rbp-I.js"),__vite__mapDeps([14,2,3,1,4]))),Ct=d.lazy(()=>fe(()=>import("../js/AuthPage-BY9TOB6j.js"),__vite__mapDeps([15,2,3,1,4]))),Lt=d.lazy(()=>fe(()=>import("../js/ProfilePage-BTp9knzq.js"),__vite__mapDeps([16,2,3,1,4]))),kt=d.lazy(()=>fe(()=>import("../js/SettingsPage-ysGuV8gu.js"),__vite__mapDeps([17,2,3,1,4]))),Vt=d.lazy(()=>fe(()=>import("../js/InvitePage-1Dopv0J1.js"),__vite__mapDeps([18,2,1,3,4]))),Ft=()=>de.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:de.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})});function zt(){const e=g(),t="/figuras"===e.pathname,r="/escuela"===e.pathname;return de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-salsa-light to-white",children:[de.jsx(Pt,{}),de.jsx("main",{className:t||r?"w-full":"container mx-auto px-4 py-8",children:de.jsx(d.Suspense,{fallback:de.jsx(Ft,{}),children:de.jsxs(y,{children:[de.jsx(v,{path:"/",element:de.jsx(Rt,{})}),de.jsx(v,{path:"/auth",element:de.jsx(Ct,{})}),de.jsx(v,{path:"/invite/:invitationCode",element:de.jsx(Vt,{})}),de.jsx(v,{path:"/profile",element:de.jsx(wt,{children:de.jsx(Lt,{})})}),de.jsx(v,{path:"/settings",element:de.jsx(wt,{children:de.jsx(kt,{})})}),de.jsx(v,{path:"/notas",element:de.jsx(wt,{requiredRole:ut.SUPER_ADMIN,children:de.jsx(Ot,{})})}),de.jsx(v,{path:"/categorias",element:de.jsx(wt,{children:de.jsx(Ut,{})})}),de.jsx(v,{path:"/figuras",element:de.jsx(wt,{children:de.jsx(Dt,{})})}),de.jsx(v,{path:"/escuela",element:de.jsx(wt,{children:de.jsx(Mt,{})})})," ",de.jsx(v,{path:"/admin",element:de.jsx(wt,{requiredRole:ut.SUPER_ADMIN,children:de.jsx(Tt,{})})})]})})})]})}function Bt(){return de.jsx(ve,{children:de.jsx(xt,{children:de.jsx(At,{children:de.jsx(Nt,{children:de.jsx(p,{children:de.jsx(zt,{})})})})})})}const qt=()=>{const e=new Map;return{getAuth:()=>c(void 0,null,function*(){if(!e.has("auth")){const{getAuth:t}=yield fe(()=>c(void 0,null,function*(){const{getAuth:e}=yield import("../js/vendor-firebase-DVYjp8kH.js").then(e=>e.H);return{getAuth:e}}),[]);e.set("auth",t)}return e.get("auth")}),getFirestore:()=>c(void 0,null,function*(){if(!e.has("firestore")){const{getFirestore:t}=yield fe(()=>c(void 0,null,function*(){const{getFirestore:e}=yield import("../js/vendor-firebase-DVYjp8kH.js").then(e=>e.I);return{getFirestore:e}}),[]);e.set("firestore",t)}return e.get("firestore")}),getStorage:()=>c(void 0,null,function*(){if(!e.has("storage")){const{getStorage:t}=yield fe(()=>c(void 0,null,function*(){const{getStorage:e}=yield import("../js/vendor-firebase-DVYjp8kH.js").then(e=>e.J);return{getStorage:e}}),[]);e.set("storage",t)}return e.get("storage")})}},Wt=()=>{const e=new Map;return{getIcon:t=>c(void 0,null,function*(){if(!e.has(t))try{const{[t]:r}=yield fe(()=>c(void 0,null,function*(){const{[t]:e}=yield import("../js/vendor-icons-BWQzNHDY.js");return{[t]:e}}),__vite__mapDeps([3,2]));e.set(t,r)}catch(r){return null}return e.get(t)})}},Gt=()=>{const e=new Map;return{getVideoService:()=>c(void 0,null,function*(){if(!e.has("video")){const t=yield fe(()=>import("../js/videoCombiner-DtVyKRCm.js"),__vite__mapDeps([19,2,1,4,3]));e.set("video",t.default)}return e.get("video")}),getFirebaseService:t=>c(void 0,null,function*(){if(!e.has(t)){const r=yield((e,t,r)=>{const s=e[t];return s?"function"==typeof s?s():Promise.resolve(s):new Promise((e,s)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})})(Object.assign({"../services/firebase/auth.js":()=>fe(()=>Promise.resolve().then(()=>Re),void 0),"../services/firebase/config.js":()=>fe(()=>Promise.resolve().then(()=>Ae),void 0),"../services/firebase/firestore.js":()=>fe(()=>Promise.resolve().then(()=>dt),void 0),"../services/firebase/index.js":()=>fe(()=>import("../js/index-DxznKFAT.js").then(e=>e.i),__vite__mapDeps([12,4])),"../services/firebase/sequences.js":()=>fe(()=>import("../js/sequences-7EdsOGdH.js"),__vite__mapDeps([11,4,2,1,3])),"../services/firebase/storage.js":()=>fe(()=>import("../js/index-DxznKFAT.js").then(e=>e.s),__vite__mapDeps([12,4]))}),`../services/firebase/${t}.js`,4);e.set(t,r)}return e.get(t)})}},$t=()=>{if("undefined"!=typeof window&&"IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const r=t.target;r.src=r.dataset.src,r.classList.remove("lazy"),e.unobserve(r)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}},Ht={preloadCritical:!0,useCache:!0,monitorPerformance:!0,optimizeImages:!0,autoCleanup:!0};((e=Ht)=>{e.preloadCritical&&[()=>fe(()=>import("../js/Toast-DEMKkBqT.js"),__vite__mapDeps([10,2,3,1,4])),()=>fe(()=>import("../js/ConfirmModal-c2BWF6H6.js"),__vite__mapDeps([9,3,2,1,4])),()=>fe(()=>import("../js/VideoPlayer-BonkY548.js"),__vite__mapDeps([20,2,4,3,1]))].forEach(e=>{e().catch(()=>{})}),e.monitorPerformance&&"undefined"!=typeof window&&window.performance&&new PerformanceObserver(e=>{for(const t of e.getEntries())t.entryType}).observe({entryTypes:["navigation","paint"]}),e.optimizeImages&&"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",$t):$t()),qt(),Wt(),Gt()})(),ue.createRoot(document.getElementById("root")).render(de.jsx(m.StrictMode,{children:de.jsx(Bt,{})}));export{be as A,Ne as B,je as C,Pe as D,Ie as E,ze as F,Be as G,qe as H,We as I,Ge as J,$e as K,He as L,Je as M,Ae as N,ut as R,fe as _,bt as a,_t as b,ge as c,Xe as d,Ze as e,tt as f,lt as g,it as h,at as i,de as j,ct as k,nt as l,rt as m,mt as n,gt as o,ye as p,Se as q,st as r,ot as s,Qe as t,Et as u,Ye as v,_e as w,Ee as x,xe as y,we as z};
